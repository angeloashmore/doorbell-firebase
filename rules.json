{
  "rules": {

    "billings": {
      ".write": false,

      "users": {
        "$user_id": {
          ".read": "$user_id === auth.uid"
        }
      },
      "teams": {
        "$team_id": {
          ".read": "auth !== null && root.child('team_users').child($team_id).hasChild(auth.uid)"
        }
      }
    },

    "plans": {
      ".read": "auth !== null",
      ".write": false
    },

    "team_users": {
      ".write": false,

      "$team_id": {
        ".read": "auth !== null && data.hasChild(auth.uid)",

        "$user_id": {
          ".validate": "newData.hasChildren(['title', 'email', 'private', 'roles'])"
        }
      }
    },

    "teams": {
      ".write": false,
      "$team_id": {
        ".read": "auth !== null && root.child('team_users').child($team_id).hasChild(auth.uid)"
      }
    },

    "users": {
      ".write": false,
      "$user_id": {
        ".read": "$user_id === auth.uid"
      }
    }

  }
}
